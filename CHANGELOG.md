# 变更日志

本文档记录了TCP Forwarder项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且遵循 [语义化版本](https://semver.org/spec/v2.0.0.html)。

## [未发布]

### 新增
- 📱 **移动平台支持**: 全面支持 Android 和 iOS 平台
  - Android: ARM64, ARMv7, x86, x86_64 架构
  - iOS: ARM64 (设备), x86_64 (Intel Mac 模拟器), ARM64 (Apple Silicon Mac 模拟器)
- 🔧 **移动平台专用工作流**: 独立的移动平台构建和测试流程
- 📚 **移动平台文档**: 详细的移动平台部署和集成指南
- ⚙️ **功能特性标志**: 支持 `mobile` 特性标志进行精简构建
- 🚀 **GitHub Actions 增强**: 在发布流程中包含移动平台二进制文件
- 完整的CI/CD自动化流程
- 多平台构建支持 (Linux x86_64/ARM64, Windows, macOS)
- Docker多架构镜像支持
- 全面的安全扫描和漏洞检测
- 性能监控和基准测试
- 自动化依赖项更新
- 代码质量门禁控制

### 修改
- 修复了所有编译警告
- 改进了配置文件使用率
- 优化了连接池管理
- 增强了错误处理和日志记录
- 📱 **Cargo.toml 优化**: 移动平台可选依赖项配置

### 安全
- 添加了cargo-audit安全审计
- 实施了cargo-deny依赖策略
- 集成了Trivy漏洞扫描
- 启用了CodeQL安全分析

### 文档
- 📱 **MOBILE.md**: 全新的移动平台专用文档
- 📚 **移动平台集成指南**: Android 和 iOS 详细集成说明
- 🔧 **移动平台配置示例**: 针对移动设备优化的配置模板
- 🔒 **移动平台安全指南**: 移动环境下的安全注意事项

## [0.1.0] - 2024-01-XX

### 新增
- TCP转发器核心功能
- 配置文件支持 (YAML格式)
- 连接池管理
- 负载均衡算法
- 健康检查机制
- Prometheus指标收集
- EWMA评分算法
- 动态IP池管理

### 特性
- 高性能异步I/O
- 可配置的超时设置
- 支持多种负载均衡策略
- 实时健康状态监控
- 详细的性能指标
- 灵活的配置选项

---

## 版本说明

### 语义化版本
- **主版本号**: 不兼容的API修改
- **次版本号**: 向后兼容的功能性新增
- **修订号**: 向后兼容的问题修正

### 变更类型
- **新增**: 新功能
- **修改**: 对现有功能的变更
- **弃用**: 不久将移除的功能
- **移除**: 现在移除的功能
- **修复**: 任何bug修复
- **安全**: 涉及安全的变更

### 发布说明
每个版本的详细信息可以在 [GitHub Releases](https://github.com/your-username/TCP-Forwarder-Rust/releases) 页面找到。

### 迁移指南
重大版本更新的迁移指南将在发布时提供，包括：
- 配置文件格式变更
- API接口变化
- 行为差异说明
- 升级步骤

### 支持政策
- **当前版本**: 积极开发和支持
- **前一个主版本**: 安全更新和重要bug修复
- **更早版本**: 仅在特殊情况下提供支持
